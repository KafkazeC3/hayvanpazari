(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2649],{8109:function(e,t,s){Promise.resolve().then(s.bind(s,3484))},6858:function(e,t,s){"use strict";s.d(t,{Z:function(){return i}});let i=(0,s(9205).Z)("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]])},1047:function(e,t,s){"use strict";s.d(t,{Z:function(){return i}});let i=(0,s(9205).Z)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])},2208:function(e,t,s){"use strict";s.d(t,{Z:function(){return i}});let i=(0,s(9205).Z)("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},8930:function(e,t,s){"use strict";s.d(t,{Z:function(){return i}});let i=(0,s(9205).Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},3484:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return v},dynamic:function(){return p}});var i=s(7437),a=s(7648),r=s(521),n=s(8997),l=s(6858),c=s(8930),d=s(2381),o=s(3266),h=s(1131),x=s(5128),m=s(821),u=s(2265);let f=(0,u.createContext)(void 0);s(7114);let j=(0,u.createContext)(void 0),p="force-dynamic";function v(){let{isAuthenticated:e}=function(){let e=(0,u.useContext)(j);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}(),{favoriteListings:t,removeFavorite:s,isLoading:p}=(0,m.r)(),{showToast:v}=function(){let e=(0,u.useContext)(f);if(void 0===e)throw Error("useUI must be used within a UIProvider");return e}(),N=async()=>{if(confirm("T\xfcm favorilerinizi silmek istediğinize emin misiniz?")){for(let e of t)await s(e.id);v("T\xfcm favoriler silindi","info")}};return e?(0,i.jsxs)("main",{className:"min-h-screen",children:[(0,i.jsx)(o.Navbar,{}),(0,i.jsx)("section",{className:"bg-gradient-to-br from-nature-600 to-nature-800 py-12",children:(0,i.jsx)("div",{className:"container mx-auto px-4",children:(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("h1",{className:"text-3xl font-bold text-white mb-2",children:"Favorilerim"}),(0,i.jsxs)("p",{className:"text-white/80",children:[t.length," ilan favorilerinizde"]})]}),t.length>0&&(0,i.jsxs)(d.Button,{variant:"outline",className:"border-white/30 text-white hover:bg-white/10 gap-2",onClick:N,disabled:p,children:[(0,i.jsx)(c.Z,{className:"h-4 w-4"}),"T\xfcm\xfcn\xfc Temizle"]})]})})}),(0,i.jsx)("section",{className:"py-12",children:(0,i.jsx)("div",{className:"container mx-auto px-4",children:0===t.length?(0,i.jsxs)(r.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"max-w-md mx-auto text-center py-12",children:[(0,i.jsx)("div",{className:"w-24 h-24 mx-auto mb-6 rounded-full bg-earth-100 flex items-center justify-center",children:(0,i.jsx)(n.Z,{className:"h-12 w-12 text-earth-400"})}),(0,i.jsx)("h2",{className:"text-xl font-bold text-earth-800 mb-2",children:"Hen\xfcz Favori İlanınız Yok"}),(0,i.jsx)("p",{className:"text-earth-500 mb-6",children:"Beğendiğiniz ilanları favorilere ekleyerek daha sonra kolayca ulaşabilirsiniz."}),(0,i.jsx)(a.default,{href:"/ilanlar",children:(0,i.jsxs)(d.Button,{className:"gradient-nature text-white gap-2",children:["İlanları Keşfet ",(0,i.jsx)(l.Z,{className:"h-4 w-4"})]})})]}):(0,i.jsx)(r.E.div,{initial:{opacity:0},animate:{opacity:1},className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:t.map((e,t)=>(0,i.jsx)(r.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.05*t},children:(0,i.jsx)(x.d,{listing:e})},e.id))})})}),(0,i.jsx)(h.Footer,{})]}):(0,i.jsxs)("main",{className:"min-h-screen",children:[(0,i.jsx)(o.Navbar,{}),(0,i.jsx)("div",{className:"container mx-auto px-4 py-16",children:(0,i.jsxs)("div",{className:"max-w-md mx-auto text-center",children:[(0,i.jsx)("div",{className:"w-20 h-20 mx-auto mb-6 rounded-full bg-earth-100 flex items-center justify-center",children:(0,i.jsx)(n.Z,{className:"h-10 w-10 text-earth-400"})}),(0,i.jsx)("h1",{className:"text-2xl font-bold text-earth-800 mb-2",children:"Giriş Yapın"}),(0,i.jsx)("p",{className:"text-earth-500 mb-6",children:"Favorilerinizi g\xf6rmek i\xe7in giriş yapmalısınız."}),(0,i.jsx)(a.default,{href:"/giris",children:(0,i.jsxs)(d.Button,{className:"gradient-nature text-white gap-2",children:["Giriş Yap ",(0,i.jsx)(l.Z,{className:"h-4 w-4"})]})})]})}),(0,i.jsx)(h.Footer,{})]})}},5128:function(e,t,s){"use strict";s.d(t,{d:function(){return f}});var i=s(7437),a=s(7648),r=s(605),n=s(3774),l=s(2208),c=s(1047),d=s(1817),o=s(8997),h=s(9174),x=s(2381),m=s(3448),u=s(821);function f(e){let{listing:t,variant:s="default",viewMode:f="grid",showFavorite:j=!0}=e,{data:p}=(0,r.useSession)(),{isFavorite:v,toggleFavorite:N,isLoading:w}=(0,u.r)(),g=!!(null==p?void 0:p.user),y=v(t.id),b=[];if(t.images){if(Array.isArray(t.images))b=t.images;else try{b=JSON.parse(t.images)}catch(e){b=[t.images]}}let k=b[0]||"/placeholder.jpg",Z=async e=>{if(e.preventDefault(),e.stopPropagation(),!g){window.location.href="/giris?callbackUrl="+window.location.pathname;return}await N(t.id)};if("list"===f){var z;return(0,i.jsx)(a.default,{href:"/ilan/".concat(t.id),children:(0,i.jsxs)("div",{className:"flex gap-4 p-4 bg-white rounded-xl border border-earth-200 hover:border-nature-300 hover:shadow-md transition-all",children:[(0,i.jsx)("div",{className:"w-48 h-32 rounded-lg overflow-hidden flex-shrink-0",children:(0,i.jsx)("img",{src:k,alt:t.title,className:"w-full h-full object-cover"})}),(0,i.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,i.jsxs)("div",{className:"flex items-start justify-between gap-2",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("h3",{className:"font-semibold text-earth-800 truncate",children:t.title}),(0,i.jsx)("p",{className:"text-sm text-earth-500 mt-1",children:null===(z=t.category)||void 0===z?void 0:z.name})]}),(0,i.jsx)("p",{className:"text-lg font-bold text-nature-600",children:(0,m.T4)(t.price)})]}),(0,i.jsxs)("div",{className:"flex items-center gap-4 mt-3 text-sm text-earth-500",children:[(0,i.jsxs)("span",{className:"flex items-center gap-1",children:[(0,i.jsx)(n.Z,{className:"h-4 w-4"}),t.city]}),(0,i.jsxs)("span",{className:"flex items-center gap-1",children:[(0,i.jsx)(l.Z,{className:"h-4 w-4"}),t.viewCount]}),(0,i.jsxs)("span",{className:"flex items-center gap-1",children:[(0,i.jsx)(c.Z,{className:"h-4 w-4"}),(0,m.p6)(t.createdAt)]})]})]}),j&&(0,i.jsx)(x.Button,{variant:"ghost",size:"icon",onClick:Z,disabled:w,className:(0,m.cn)("flex-shrink-0",y&&"text-red-500"),children:w?(0,i.jsx)(d.Z,{className:"h-5 w-5 animate-spin"}):(0,i.jsx)(o.Z,{className:(0,m.cn)("h-5 w-5",y&&"fill-current")})})]})})}return(0,i.jsx)(a.default,{href:"/ilan/".concat(t.id),children:(0,i.jsxs)("div",{className:"group bg-white rounded-xl border border-earth-200 overflow-hidden hover:border-nature-300 hover:shadow-lg transition-all duration-300",children:[(0,i.jsxs)("div",{className:"relative aspect-[4/3] overflow-hidden",children:[(0,i.jsx)("img",{src:k,alt:t.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-500"}),j&&(0,i.jsx)("button",{onClick:Z,disabled:w,className:(0,m.cn)("absolute top-3 right-3 w-9 h-9 rounded-full flex items-center justify-center transition-all",y?"bg-red-50 text-red-500":"bg-white/90 text-earth-400 hover:text-red-500"),children:w?(0,i.jsx)(d.Z,{className:"h-4 w-4 animate-spin"}):(0,i.jsx)(o.Z,{className:(0,m.cn)("h-4 w-4",y&&"fill-current")})}),(0,i.jsx)("div",{className:"absolute bottom-3 left-3",children:(0,i.jsx)(h.C,{className:"bg-nature-600 text-white text-sm px-3 py-1",children:(0,m.T4)(t.price)})})]}),(0,i.jsxs)("div",{className:"p-4",children:[(0,i.jsx)("h3",{className:"font-semibold text-earth-800 line-clamp-2 group-hover:text-nature-600 transition-colors",children:t.title}),(0,i.jsxs)("div",{className:"flex items-center gap-2 mt-2 text-sm text-earth-500",children:[(0,i.jsx)(n.Z,{className:"h-4 w-4"}),(0,i.jsxs)("span",{children:[t.city,t.district&&", ".concat(t.district)]})]}),(0,i.jsxs)("div",{className:"flex items-center justify-between mt-3 pt-3 border-t border-earth-100 text-xs text-earth-400",children:[(0,i.jsxs)("span",{className:"flex items-center gap-1",children:[(0,i.jsx)(l.Z,{className:"h-3 w-3"}),t.viewCount]}),(0,i.jsx)("span",{children:(0,m.p6)(t.createdAt)})]})]})]})})}}},function(e){e.O(0,[6137,2972,2833,3290,6829,521,5518,2971,2117,1744],function(){return e(e.s=8109)}),_N_E=e.O()}]);